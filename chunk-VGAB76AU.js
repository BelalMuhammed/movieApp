import{a as B}from"./chunk-AHJLHRES.js";import{a as A,b as H,c as R,d as U,k as q,l as J}from"./chunk-KEXO3DBL.js";import{$ as r,Ca as F,D as L,G as P,Ga as N,H as a,Ha as D,L as I,Na as j,Pa as G,Q as _,S as E,T as m,W as h,Y as W,Z as T,_ as o,aa as g,ba as x,ea as f,fa as p,ka as c,la as C,ma as b,na as M,oa as y,pa as S,ra as V,s as u,u as d,ua as z,v,va as O,w,x as k}from"./chunk-UMWLH33Y.js";var Q=i=>["/movieDetails",i],X=(i,t)=>t.id;function Y(i,t){i&1&&g(0,"i",20)}function Z(i,t){i&1&&g(0,"i",21)}function $(i,t){if(i&1){let e=x();o(0,"div",11)(1,"div",12)(2,"a",13),g(3,"img",14),r(),o(4,"div",15)(5,"div",16)(6,"div")(7,"h5",17),c(8),r(),o(9,"p",18),c(10),r()(),o(11,"button",19),f("click",function(){d(e);let l=p().$implicit,s=p();return v(s.toggleInWishlist(l,"movie"))}),_(12,Y,1,0,"i",20)(13,Z,1,0,"i",21),r()(),o(14,"div",22)(15,"div",23),w(),o(16,"svg",24),g(17,"circle",25)(18,"circle",26),r(),k(),o(19,"div",27),c(20),z(21,"number"),r()()()()()()}if(i&2){let e=p().$implicit,n=p();a(2),m("routerLink",V(12,Q,e.id)),a(),m("src","https://image.tmdb.org/t/p/w500"+e.poster_path,P),a(5),C(e.title),a(2),C(e.release_date),a(2),h(n.isInWishlist(e,"movie")?12:n.isInWishlist(e,"movie")?-1:13),a(6),E("stroke-dasharray",2*n.Math.PI*18)("stroke-dashoffset",2*n.Math.PI*18-e.vote_average*10/100*2*n.Math.PI*18)("stroke",n.getVoteColor(e.vote_average)),a(2),b(" ",O(21,9,e.vote_average*10,"1.0-0"),"% ")}}function ee(i,t){if(i&1&&_(0,$,22,14,"div",11),i&2){let e=t.$implicit;h(e.poster_path?0:-1)}}function te(i,t){if(i&1){let e=x();o(0,"div",10)(1,"ngb-pagination",28),S("pageChange",function(l){d(e);let s=p();return y(s.page,l)||(s.page=l),v(l)}),f("pageChange",function(l){d(e);let s=p();return v(s.onPageChange(l))}),r()()}if(i&2){let e=p();a(),m("collectionSize",5e3),M("page",e.page),m("maxSize",5)("rotate",!0)("ellipses",!0)("boundaryLinks",!1)}}var K=class i{Math=Math;term="";page=1;collectionSize=150;movies=L([]);_wishList=u(G);_moviesService=u(B);constructor(){F(()=>{let t=this._moviesService.language();this.fetchMovies()})}fetchMovies(){this._moviesService.getMovies(this.page,this._moviesService.language()).subscribe({next:t=>{console.log(t),this.movies.set(t.results),t.total_pages&&(this.collectionSize=t.total_pages)}})}onPageChange(t){this.page=t,this.fetchMovies()}toggleInWishlist(t,e){this._wishList.toggleInWishlist(t,e)}isInWishlist(t,e){return this._wishList.isInWishlist(t,e)}search(){this.term?this._moviesService.searchByName(this.term).subscribe({next:t=>{this.movies.set(t.results)}}):this.fetchMovies()}getVoteColor(t){let e=t*10;return e>=70?"#28a745":e>=50?"#ffc107":"#dc3545"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=I({type:i,selectors:[["app-movie-list"]],decls:21,vars:3,consts:[[1,"py-4"],[1,"container","p-5","bg-gray"],[1,""],[1,"my-4"],[1,"input-group","input-group-lg"],["type","text","aria-label","Sizing example input","placeholder","Search and explore....","aria-describedby","inputGroup-sizing-lg",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"btn","bg-main"],[1,"container"],[1,"pb-4"],[1,"row","gy-4"],[1,"d-flex","justify-content-center"],[1,"col-lg-2","col-md-4","col-sm-6"],[1,"card","h-100","border-0"],[3,"routerLink"],["alt","...",1,"card-img-top","rounded-3",3,"src"],[1,"card-body","position-relative","border-0","p-0","pt-4"],[1,"d-flex","justify-content-between"],[1,"card-title","fs-5","fw-bold","m-0"],[1,"card-text","text-muted","fs-6"],[1,"border-0","bg-transparent",3,"click"],[1,"fa-solid","fa-heart","fs-3","text-warning"],[1,"fa-regular","fa-heart","fs-3"],[1,"counter"],[1,"vote-circle","text-center","position-relative"],["height","40","width","40",1,"circle-progress"],["r","18","cx","20","cy","20",1,"circle-bg"],["r","18","cx","20","cy","20",1,"circle"],[1,"circle-overlay-small"],[1,"my-pagination",3,"pageChange","collectionSize","page","maxSize","rotate","ellipses","boundaryLinks"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),c(4,"Welcome to our movie app"),r(),o(5,"p",3),c(6,"Millions of movies, TV shows and people to discover. Explore now."),r()(),o(7,"div",4)(8,"input",5),S("ngModelChange",function(s){return y(n.term,s)||(n.term=s),s}),f("change",function(){return n.search()}),r(),o(9,"button",6),c(10,"Search"),r(),o(11,"h1"),c(12),r()()()(),o(13,"section")(14,"div",7)(15,"h2",8),c(16,"Now playing"),r(),o(17,"div",9),W(18,ee,1,1,null,null,X),_(20,te,2,6,"div",10),r()()()),e&2&&(a(8),M("ngModel",n.term),a(4),b("",n.term," "),a(6),T(n.movies()),a(2),h(n.term?-1:20))},dependencies:[j,D,N,J,q,U,A,H,R],styles:[".bg-main[_ngcontent-%COMP%]{background-color:#ffe353}.bg-gray[_ngcontent-%COMP%]{background-color:#f3f1f1}  ngb-pagination{justify-content:center;margin-top:20px}  ngb-pagination .page-item{margin:0 4px}  ngb-pagination .page-link{border:none;width:40px;height:40px;text-align:center;line-height:38px;background-color:transparent;color:#000}  ngb-pagination .page-link:hover{color:#000}  ngb-pagination .page-item.active .page-link{background-color:#ffe353;color:#000;border-color:#000}.circle-progress[_ngcontent-%COMP%]{transform:rotate(-90deg)}.circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#444;stroke-width:5}.circle[_ngcontent-%COMP%]{fill:none;overflow:hidden;z-index:10;stroke-width:4;stroke-linecap:round;transition:stroke-dashoffset .35s,stroke .35s}.circle-overlay-small[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000;color:#fff;font-size:10px;padding:11px 7px;border-radius:15px;min-width:24px;text-align:center;line-height:1;z-index:9}.vote-circle[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.counter[_ngcontent-%COMP%]{position:absolute;top:-20px;left:12px}"]})};export{K as MovieListComponent};
