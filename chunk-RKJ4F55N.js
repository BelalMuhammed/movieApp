import{a as D}from"./chunk-V3RLFJSG.js";import{$ as o,Ca as x,D as u,G as h,H as a,L as b,La as C,Na as I,Pa as E,Q as v,T as m,W as g,X as _,Y as d,Z as p,_ as s,aa as l,ea as y,ka as r,la as c,ma as w,ra as T,s as f}from"./chunk-UMWLH33Y.js";var M=t=>["/tvShowsDetails",t],S=(t,e)=>e.id;function V(t,e){t&1&&l(0,"i",8)}function R(t,e){t&1&&l(0,"i",9)}function B(t,e){t&1&&l(0,"i",12)}function W(t,e){t&1&&l(0,"i",13)}function F(t,e){t&1&&l(0,"i",14)}function L(t,e){if(t&1&&(s(0,"span",17),r(1),o()),t&2){let i=e.$implicit;a(),w(" ",i.name,"")}}function z(t,e){if(t&1&&l(0,"img",21),t&2){let i=e.$implicit;m("src","https://image.tmdb.org/t/p/w500"+i.logo_path,h)}}function O(t,e){t&1&&(s(0,"h3",24),r(1,"Recommendations"),o())}function P(t,e){if(t&1&&(s(0,"div",25)(1,"div",26)(2,"a",27),l(3,"img",28),o(),s(4,"div",29)(5,"h5",30),r(6),o(),s(7,"p",31),r(8),o()()()()),t&2){let i=e.$implicit;a(2),m("routerLink",T(4,M,i.id)),a(),m("src","https://image.tmdb.org/t/p/w500"+i.poster_path,h),a(3),c(i.name),a(2),c(i.first_air_date)}}var k=class t{show=u({});_route=f(C);_TvShowService=f(D);similarsShows=u([]);_wishList=f(E);ngOnInit(){this._route.params.subscribe({next:e=>{this.getMovieById(e.id),this.getRecommendationsMoviesById(e.id)}})}constructor(){x(()=>{this._route.params.subscribe({next:e=>{this.getMovieById(e.id),this.getRecommendationsMoviesById(e.id)}})})}getMovieById(e){this._TvShowService.getTvShowsById(e,this._TvShowService.language()).subscribe({next:i=>{this.show.set(i),console.log(this.show())}})}getRecommendationsMoviesById(e){this._TvShowService.getSimilarShows(e,this._TvShowService.language()).subscribe({next:i=>{this.similarsShows.set(i.results.filter(n=>n.poster_path!==null).slice(0,6)),console.log(this.similarsShows())}})}toggleInWishlist(e,i){this._wishList.toggleInWishlist(e,i)}isInWishlist(e,i){return this._wishList.isInWishlist(e,i)}get fiveStarRating(){return this.show().vote_average/2}get fullStars(){let e=Math.floor(this.fiveStarRating);return Array(e).fill(0)}get hasHalf(){return this.fiveStarRating%1>=.5}get emptyStars(){let e=Math.floor(this.fiveStarRating),i=this.hasHalf?1:0;return Array(5-e-i).fill(0)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=b({type:t,selectors:[["app-tvshows-details"]],decls:44,vars:10,consts:[[1,"container"],[1,"row","align-items-center","py-4"],[1,"col-md-4","mx-auto","col-8"],["alt","movie.poster",1,"w-100","mx-auto",3,"src"],[1,"col-md-8"],[1,"d-flex","justify-content-between"],[1,""],[1,"border-0","bg-transparent",3,"click"],[1,"fa-solid","fa-heart","fs-3","text-warning"],[1,"fa-regular","fa-heart","fs-3"],[1,"text-muted","m-0"],[1,"my-3"],[1,"fas","fa-star","text-dark"],[1,"fas","fa-star-half-alt","text-dark"],[1,"far","fa-star","text-dark"],[1,"mb-4"],[1,"d-flex","flex-wrap"],[1,"genres","bg-main","me-3","my-3"],[1,"d-flex","mt-4"],[1,"fw-bold"],[1,"mx-4"],["alt","",1,"image-width","me-3",3,"src"],[1,"btn","btn-outline-warning","rounded-pill",3,"href"],[1,"row"],[1,"fw-bold","py-3"],[1,"col-md-2","col-6","cardMovie"],[1,"card","h-100","border-0"],[3,"routerLink"],["alt","...",1,"card-img-top","rounded-3",3,"src"],[1,"card-body","border-0"],[1,"card-title","fs-5","fw-bold"],[1,"card-text","text-muted","fs-6"]],template:function(i,n){i&1&&(s(0,"section")(1,"div",0)(2,"div",1)(3,"div",2),l(4,"img",3),o(),s(5,"div",4)(6,"div",5)(7,"h2",6),r(8),o(),s(9,"button",7),y("click",function(){return n.toggleInWishlist(n.show(),"tv")}),v(10,V,1,0,"i",8)(11,R,1,0,"i",9),o()(),s(12,"p",10),r(13),o(),s(14,"div",11),d(15,B,1,0,"i",12,_),v(17,W,1,0,"i",13),d(18,F,1,0,"i",14,_),o(),s(20,"p",15),r(21),o(),s(22,"div",16),d(23,L,2,1,"span",17,S),o(),s(25,"div",18)(26,"div")(27,"span",19),r(28,"Seasons : "),o(),r(29),o(),s(30,"div",20)(31,"span",19),r(32,"Languages : "),o(),r(33),o()(),s(34,"div",11),d(35,z,1,1,"img",21,S),o(),s(37,"a",22),r(38,"Website"),o()()(),l(39,"hr"),s(40,"div",23),v(41,O,2,0,"h3",24),d(42,P,9,6,"div",25,S),o()()()),i&2&&(a(4),m("src","https://image.tmdb.org/t/p/w500"+n.show().poster_path,h),a(4),c(n.show().name),a(2),g(n.isInWishlist(n.show(),"tv")?10:n.isInWishlist(n.show(),"tv")?-1:11),a(3),c(n.show().first_air_date),a(2),p(n.fullStars),a(2),g(n.hasHalf?17:-1),a(),p(n.emptyStars),a(3),c(n.show().overview),a(2),p(n.show().genres),a(6),w(" ",n.show().number_of_seasons," "),a(4),w(" ",n.show().spoken_languages[0].name,""),a(2),p(n.show().production_companies),a(2),m("href",n.show().homepage,h),a(4),g(n.similarsShows().length>0?41:-1),a(),p(n.similarsShows()))},dependencies:[I],styles:[".image-width[_ngcontent-%COMP%]{width:100px}.genres[_ngcontent-%COMP%]{padding:3px 20px;border-radius:50px}.bg-main[_ngcontent-%COMP%]{background-color:#ffe353}"]})};export{k as TVshowsDetailsComponent};
