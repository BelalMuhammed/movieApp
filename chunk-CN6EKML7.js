import{a as E}from"./chunk-AHJLHRES.js";import{$ as o,Ca as C,D as _,G as c,H as a,L as S,La as I,Na as w,Pa as D,Q as g,T as s,W as u,X as b,Y as d,Z as p,_ as r,aa as m,ea as y,ka as l,la as v,ma as h,ra as x,s as f}from"./chunk-UMWLH33Y.js";var T=t=>["/movieDetails",t],M=(t,e)=>e.id;function R(t,e){t&1&&m(0,"i",8)}function W(t,e){t&1&&m(0,"i",9)}function B(t,e){t&1&&m(0,"i",12)}function F(t,e){t&1&&m(0,"i",13)}function L(t,e){t&1&&m(0,"i",14)}function z(t,e){if(t&1&&(r(0,"span",17),l(1),o()),t&2){let i=e.$implicit;a(),h(" ",i.name,"")}}function O(t,e){if(t&1&&m(0,"img",21),t&2){let i=e.$implicit;s("src","https://image.tmdb.org/t/p/w500"+i.logo_path,c)}}function P(t,e){t&1&&(r(0,"h3",24),l(1,"Recommendations"),o())}function U(t,e){if(t&1&&(r(0,"div",25)(1,"div",26)(2,"a",27),m(3,"img",28),o(),r(4,"div",29)(5,"div",6)(6,"h5",30),l(7),o(),r(8,"p",31),l(9),o()()()()()),t&2){let i=e.$implicit;a(2),s("routerLink",x(4,T,i.id)),a(),s("src","https://image.tmdb.org/t/p/w500"+i.poster_path,c),a(4),v(i.title),a(2),v(i.release_date)}}var k=class t{movie=_({});_route=f(I);_movieService=f(E);_wishList=f(D);similarMovies=_([]);constructor(){C(()=>{let e=this._movieService.language();this._route.params.subscribe({next:i=>{this.getMovieById(i.id),this.getRecommendationsMoviesById(i.id)}})})}getMovieById(e){this._movieService.getMovieById(e,this._movieService.language()).subscribe({next:i=>{this.movie.set(i),console.log(this.movie())}})}getRecommendationsMoviesById(e){this._movieService.getSimilarMovies(e,this._movieService.language()).subscribe({next:i=>{this.similarMovies.set(i.results.filter(n=>n.poster_path!==null).slice(0,6)),console.log(this.similarMovies)}})}toggleInWishlist(e,i){this._wishList.toggleInWishlist(e,i)}isInWishlist(e,i){return this._wishList.isInWishlist(e,i)}get fiveStarRating(){return this.movie().vote_average/2}get fullStars(){let e=Math.floor(this.fiveStarRating);return Array(e).fill(0)}get hasHalf(){return this.fiveStarRating%1>=.5}get emptyStars(){let e=Math.floor(this.fiveStarRating),i=this.hasHalf?1:0;return Array(5-e-i).fill(0)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=S({type:t,selectors:[["app-movie-details"]],decls:44,vars:10,consts:[[1,"container"],[1,"row","align-items-center","py-4"],[1,"col-md-4","mx-auto","col-8"],["alt","movie.poster",1,"w-100","mx-auto",3,"src"],[1,"col-md-8"],[1,"d-flex","justify-content-between","align-items-center"],[1,""],[1,"border-0","bg-transparent",3,"click"],[1,"fa-solid","fa-heart","fs-3","text-warning"],[1,"fa-regular","fa-heart","fs-3"],[1,"text-muted","p-0","m-lg-0"],[1,"my-3"],[1,"fas","fa-star","text-dark"],[1,"fas","fa-star-half-alt","text-dark"],[1,"far","fa-star","text-dark"],[1,"mb-4"],[1,"d-flex","flex-wrap"],[1,"genres","bg-main","me-3","my-3"],[1,"d-flex","mt-4"],[1,"fw-bold"],[1,"mx-4"],["alt","",1,"image-width","me-3",3,"src"],[1,"btn","btn-outline-warning","rounded-pill",3,"href"],[1,"row"],[1,"fw-bold","py-3"],[1,"col-md-2","col-6","cardMovie"],[1,"card","h-100","border-0"],[3,"routerLink"],["alt","...",1,"card-img-top","rounded-3",3,"src"],[1,"card-body","border-0"],[1,"card-title","fs-5","fw-bold"],[1,"card-text","text-muted","fs-6"]],template:function(i,n){i&1&&(r(0,"section")(1,"div",0)(2,"div",1)(3,"div",2),m(4,"img",3),o(),r(5,"div",4)(6,"div",5)(7,"h2",6),l(8),o(),r(9,"button",7),y("click",function(){return n.toggleInWishlist(n.movie(),"movie")}),g(10,R,1,0,"i",8)(11,W,1,0,"i",9),o()(),r(12,"p",10),l(13),o(),r(14,"div",11),d(15,B,1,0,"i",12,b),g(17,F,1,0,"i",13),d(18,L,1,0,"i",14,b),o(),r(20,"p",15),l(21),o(),r(22,"div",16),d(23,z,2,1,"span",17,M),o(),r(25,"div",18)(26,"div")(27,"span",19),l(28,"Duration : "),o(),l(29),o(),r(30,"div",20)(31,"span",19),l(32,"Languages : "),o(),l(33),o()(),r(34,"div",11),d(35,O,1,1,"img",21,M),o(),r(37,"a",22),l(38,"Website"),o()()(),m(39,"hr"),r(40,"div",23),g(41,P,2,0,"h3",24),d(42,U,10,6,"div",25,M),o()()()),i&2&&(a(4),s("src","https://image.tmdb.org/t/p/w500"+n.movie().poster_path,c),a(4),v(n.movie().title),a(2),u(n.isInWishlist(n.movie(),"movie")?10:n.isInWishlist(n.movie(),"movie")?-1:11),a(3),v(n.movie().release_date),a(2),p(n.fullStars),a(2),u(n.hasHalf?17:-1),a(),p(n.emptyStars),a(3),v(n.movie().overview),a(2),p(n.movie().genres),a(6),h(" ",n.movie().runtime," Min."),a(4),h(" ",n.movie().spoken_languages[0].name,""),a(2),p(n.movie().production_companies),a(2),s("href",n.movie().homepage,c),a(4),u(n.similarMovies().length>0?41:-1),a(),p(n.similarMovies()))},dependencies:[w],styles:[".genres[_ngcontent-%COMP%]{padding:3px 20px;border-radius:50px}.bg-main[_ngcontent-%COMP%]{background-color:#ffe353}.image-width[_ngcontent-%COMP%]{width:100px}"]})};export{k as MovieDetailsComponent};
