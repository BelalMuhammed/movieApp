import{a as G,b as A,c as H,d as R,k as U,l as q}from"./chunk-KEXO3DBL.js";import{a as J}from"./chunk-V3RLFJSG.js";import{$ as r,Ca as O,D as k,G as M,Ga as N,H as a,Ha as D,L as V,Na as j,Pa as B,Q as _,S as P,T as g,W as f,Y as W,Z as E,_ as o,aa as m,ba as w,ea as u,fa as c,ka as p,la as x,ma as I,na as C,oa as b,pa as S,ra as z,s as v,u as d,ua as L,v as h,va as F,w as y,x as T}from"./chunk-UMWLH33Y.js";var Q=i=>["/tvShowsDetails",i],X=(i,t)=>t.id;function Y(i,t){i&1&&m(0,"i",20)}function Z(i,t){i&1&&m(0,"i",21)}function $(i,t){if(i&1){let e=w();o(0,"div",11)(1,"div",12)(2,"a",13),m(3,"img",14),r(),o(4,"div",15)(5,"div",16)(6,"div")(7,"h5",17),p(8),r(),o(9,"p",18),p(10),r()(),o(11,"button",19),u("click",function(){d(e);let l=c().$implicit,s=c();return h(s.toggleInWishlist(l,"tv"))}),_(12,Y,1,0,"i",20)(13,Z,1,0,"i",21),r()(),o(14,"div",22)(15,"div",23),y(),o(16,"svg",24),m(17,"circle",25)(18,"circle",26),r(),T(),o(19,"div",27),p(20),L(21,"number"),r()()()()()()}if(i&2){let e=c().$implicit,n=c();a(2),g("routerLink",z(12,Q,e.id)),a(),g("src","https://image.tmdb.org/t/p/w500"+e.poster_path,M),a(5),x(e.name),a(2),x(e.first_air_date),a(2),f(n.isInWishlist(e,"tv")?12:n.isInWishlist(e,"tv")?-1:13),a(6),P("stroke-dasharray",2*n.Math.PI*18)("stroke-dashoffset",2*n.Math.PI*18-e.vote_average*10/100*2*n.Math.PI*18)("stroke",n.getVoteColor(e.vote_average)),a(2),I(" ",F(21,9,e.vote_average*10,"1.0-0"),"% ")}}function ee(i,t){if(i&1&&_(0,$,22,14,"div",11),i&2){let e=t.$implicit;f(e.poster_path?0:-1)}}function te(i,t){if(i&1){let e=w();o(0,"div",10)(1,"ngb-pagination",28),S("pageChange",function(l){d(e);let s=c();return b(s.page,l)||(s.page=l),h(l)}),u("pageChange",function(l){d(e);let s=c();return h(s.onPageChange(l))}),r()()}if(i&2){let e=c();a(),g("collectionSize",5e3),C("page",e.page),g("maxSize",5)("rotate",!0)("ellipses",!0)("boundaryLinks",!1)}}var K=class i{term="";page=1;collectionSize=150;tvshow=k([]);_wishList=v(B);_TvShowService=v(J);Math=Math;constructor(){O(()=>{let t=this._TvShowService.language();this.fetchTvShows()})}fetchTvShows(){this._TvShowService.getTvShows(this.page,this._TvShowService.language()).subscribe({next:t=>{console.log(t),this.tvshow.set(t.results),t.total_pages&&(this.collectionSize=t.total_pages)}})}toggleInWishlist(t,e){this._wishList.toggleInWishlist(t,e)}isInWishlist(t,e){return this._wishList.isInWishlist(t,e)}onPageChange(t){this.page=t,this.fetchTvShows()}search(){this.term?this._TvShowService.searchByTvName(this.term).subscribe({next:t=>{this.tvshow.set(t.results)}}):this.fetchTvShows()}getVoteColor(t){let e=t*10;return e>=70?"#28a745":e>=50?"#ffc107":"#dc3545"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-tvshows"]],decls:19,vars:2,consts:[[1,"py-4"],[1,"container","p-5","bg-gray"],[1,"text"],[1,"my-4"],[1,"input-group","input-group-lg"],["type","text","aria-label","Sizing example input","placeholder","Search and explore....","aria-describedby","inputGroup-sizing-lg",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"btn","bg-main"],[1,"container"],[1,"pb-4"],[1,"row","gy-4"],[1,"d-flex","justify-content-center"],[1,"col-lg-2","col-md-4","col-sm-6"],[1,"card","h-100","border-0"],[3,"routerLink"],["alt","...",1,"card-img-top","rounded-3",3,"src"],[1,"card-body","position-relative","border-0","p-0","pt-2"],[1,"d-flex","justify-content-between","pt-3"],[1,"card-title","fs-5","fw-bold"],[1,"card-text","text-muted","fs-6"],[1,"border-0","bg-transparent",3,"click"],[1,"fa-solid","fa-heart","fs-3","text-warning"],[1,"fa-regular","fa-heart","fs-3"],[1,"counter"],[1,"vote-circle","text-center","position-relative"],["height","40","width","40",1,"circle-progress"],["r","18","cx","20","cy","20",1,"circle-bg"],["r","18","cx","20","cy","20",1,"circle"],[1,"circle-overlay-small"],[1,"my-pagination",3,"pageChange","collectionSize","page","maxSize","rotate","ellipses","boundaryLinks"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),p(4,"Welcome to our movie app"),r(),o(5,"p",3),p(6,"Millions of movies, TV shows and people to discover. Explore now."),r()(),o(7,"div",4)(8,"input",5),S("ngModelChange",function(s){return b(n.term,s)||(n.term=s),s}),u("change",function(){return n.search()}),r(),o(9,"button",6),p(10,"Search"),r()()()(),o(11,"section")(12,"div",7)(13,"h2",8),p(14,"Tv Shows"),r(),o(15,"div",9),W(16,ee,1,1,null,null,X),_(18,te,2,6,"div",10),r()()()),e&2&&(a(8),C("ngModel",n.term),a(8),E(n.tvshow()),a(2),f(n.term?-1:18))},dependencies:[j,q,U,R,G,A,H,D,N],styles:[".bg-main[_ngcontent-%COMP%]{background-color:#ffe353}.bg-gray[_ngcontent-%COMP%]{background-color:#f3f1f1}  ngb-pagination{justify-content:center;margin-top:20px}  ngb-pagination .page-item{margin:0 4px}  ngb-pagination .page-link{border:none;width:40px;height:40px;text-align:center;line-height:38px;background-color:transparent;color:#000}  ngb-pagination .page-link:hover{color:#000}  ngb-pagination .page-item.active .page-link{background-color:#ffe353;color:#000;border-color:#000}.circle-progress[_ngcontent-%COMP%]{transform:rotate(-90deg)}.circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#444;stroke-width:5}.circle[_ngcontent-%COMP%]{fill:none;overflow:hidden;z-index:10;stroke-width:4;stroke-linecap:round;transition:stroke-dashoffset .35s,stroke .35s}.circle-overlay-small[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000;color:#fff;font-size:10px;padding:11px 7px;border-radius:15px;min-width:24px;text-align:center;line-height:1;z-index:9}.vote-circle[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.counter[_ngcontent-%COMP%]{position:absolute;top:-20px;left:12px}"]})};export{K as TVshowsComponent};
